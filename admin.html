<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Admin - Cadastrar Desafio</title>
  <link rel="stylesheet" href="style.css">
  <script>
    function verificarSenha() {
      const senha = prompt("Digite a senha de administrador:");
      if (senha !== "artella") {
        alert("Acesso negado!");
        window.location.href = "index.html";
      }
    }

    function salvarDesafio(event) {
      event.preventDefault();

      const titulo = document.getElementById("titulo").value.trim();
      const descricao = document.getElementById("descricao").value.trim();

      if (titulo && descricao) {
        // pega lista de desafios já salvos
        let desafios = JSON.parse(localStorage.getItem("desafios")) || [];

        // adiciona novo
        desafios.push({ titulo, descricao });

        // salva de volta
        localStorage.setItem("desafios", JSON.stringify(desafios));

        alert(" Desafio cadastrado com sucesso!");
        document.getElementById("form-desafio").reset();
      } else {
        alert("Preencha todos os campos!");
      }
      window.location.href = "desafios.html";

    }
  </script>
</head>
<body class="admin-bg" onload="verificarSenha()">
<header class="header-rosa">
    <img src="C:\Users\ylpaim\Pictures\Screenshots\Captura de tela 2025-09-04 140455.png" alt="Logo Artella" class="logo-esq">
    <nav>
        <a href="index.html">Início</a>
        <a href="desafios.html">Ver Desafios</a>
    </nav>
</header>

<div class="container">
    <form id="form-desafio" onsubmit="salvarDesafio(event)">
        <input type="text" id="titulo" placeholder="Título do desafio" required>
        <textarea id="descricao" placeholder="Descrição do desafio" required></textarea>
        <button type="submit" class="btn-rosa">Postar</button>
    </form>
</div>
</body>
</html>
